"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Dropdown=function($){var e="dropdown",t="4.0.0-alpha.5",n="bs.dropdown",r="."+n,a=".data-api",i=$.fn[e],o=27,s=38,l=40,c=3,d={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK:"click"+r,CLICK_DATA_API:"click"+r+a,KEYDOWN_DATA_API:"keydown"+r+a},u={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",OPEN:"open"},f={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},h=function(){function e(t){_classCallCheck(this,e),this._element=t,this._addEventListeners()}return _createClass(e,[{key:"toggle",value:function t(){if(this.disabled||$(this).hasClass(u.DISABLED))return!1;var n=e._getParentFromElement(this),r=$(n).hasClass(u.OPEN);if(e._clearMenus(),r)return!1;if("ontouchstart"in document.documentElement&&!$(n).closest(f.NAVBAR_NAV).length){var a=document.createElement("div");a.className=u.BACKDROP,$(a).insertBefore(this),$(a).on("click",e._clearMenus)}var i={relatedTarget:this},o=$.Event(d.SHOW,i);return $(n).trigger(o),!o.isDefaultPrevented()&&(this.focus(),this.setAttribute("aria-expanded","true"),$(n).toggleClass(u.OPEN),$(n).trigger($.Event(d.SHOWN,i)),!1)}},{key:"dispose",value:function e(){$.removeData(this._element,n),$(this._element).off(r),this._element=null}},{key:"_addEventListeners",value:function e(){$(this._element).on(d.CLICK,this.toggle)}}],[{key:"_jQueryInterface",value:function t(r){return this.each(function(){var t=$(this).data(n);if(t||$(this).data(n,t=new e(this)),"string"==typeof r){if(void 0===t[r])throw new Error('No method named "'+r+'"');t[r].call(this)}})}},{key:"_clearMenus",value:function t(n){if(!n||n.which!==c){var r=$(f.BACKDROP)[0];r&&r.parentNode.removeChild(r);for(var a=$.makeArray($(f.DATA_TOGGLE)),i=0;i<a.length;i++){var o=e._getParentFromElement(a[i]),s={relatedTarget:a[i]};if($(o).hasClass(u.OPEN)&&!(n&&"click"===n.type&&/input|textarea/i.test(n.target.tagName)&&$.contains(o,n.target))){var l=$.Event(d.HIDE,s);$(o).trigger(l),l.isDefaultPrevented()||(a[i].setAttribute("aria-expanded","false"),$(o).removeClass(u.OPEN).trigger($.Event(d.HIDDEN,s)))}}}}},{key:"_getParentFromElement",value:function e(t){var n=void 0,r=Util.getSelectorFromElement(t);return r&&(n=$(r)[0]),n||t.parentNode}},{key:"_dataApiKeydownHandler",value:function t(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!$(this).hasClass(u.DISABLED))){var r=e._getParentFromElement(this),a=$(r).hasClass(u.OPEN);if(!a&&n.which!==o||a&&n.which===o){if(n.which===o){var i=$(r).find(f.DATA_TOGGLE)[0];$(i).trigger("focus")}return void $(this).trigger("click")}var c=$.makeArray($(f.VISIBLE_ITEMS));if(c=c.filter(function(e){return e.offsetWidth||e.offsetHeight}),c.length){var d=c.indexOf(n.target);n.which===s&&d>0&&d--,n.which===l&&d<c.length-1&&d++,d<0&&(d=0),c[d].focus()}}}},{key:"VERSION",get:function e(){return t}}]),e}();return $(document).on(d.KEYDOWN_DATA_API,f.DATA_TOGGLE,h._dataApiKeydownHandler).on(d.KEYDOWN_DATA_API,f.ROLE_MENU,h._dataApiKeydownHandler).on(d.KEYDOWN_DATA_API,f.ROLE_LISTBOX,h._dataApiKeydownHandler).on(d.CLICK_DATA_API,h._clearMenus).on(d.CLICK_DATA_API,f.DATA_TOGGLE,h.prototype.toggle).on(d.CLICK_DATA_API,f.FORM_CHILD,function(e){e.stopPropagation()}),$.fn[e]=h._jQueryInterface,$.fn[e].Constructor=h,$.fn[e].noConflict=function(){return $.fn[e]=i,h._jQueryInterface},h}(jQuery);