/**
 * Created by anser on 22/5/17.
 */

import React from 'react';
import { shallow } from 'enzyme';
import { AssetsGrid } from '../../../../src/components/Asset/AssetsGrid/AssetsGrid.container';

describe('AssetsGrid Component Test Specifications', () => {


  it('should check proptype of data', () => {
    const assetsData = [
      {
        assetType: {
          category: 'Comfort',
          icon: ''
        },
        events: {
          edges: [
            {
              node: {
                time: '2017-05-10T06:18:02.354Z'
              }
            }
          ]
        },
        importantState: {
          value: 'standby'
        },
        name: 'ART Room',
        state: {
          ambientTemperature: 24,
          connected: false,
          current: 0.18,
          horizontalAirFlowDirection: 0,
          macId: '5CCF7F9202CA',
          power: 41.13529,
          standby: false,
          thermostatFanMode: 'auto',
          thermostatMode: 'cool',
          thermostatSetpoint: 30,
          thermostatSetpointAuto: 24,
          thermostatSetpointCool: 30,
          thermostatSetpointDry: 27,
          verticalAirFlowDirection: 0,
          voltage: 225.4858
        }
      }
    ];
    const cardWrapper = <AssetsGrid assets={assetsData} />;
    expect( typeof cardWrapper.props.assets ).toEqual( 'object' );
  });

  it('GridViewItem element count should be equal to 1', () => {
    const assetsData = [
      {
        assetType: {
          category: 'Comfort',
          icon: ''
        },
        events: {
          edges: [
            {
              node: {
                time: '2017-05-10T06:18:02.354Z'
              }
            }
          ]
        },
        importantState: {
          value: 'standby'
        },
        name: 'ART Room',
        state: {
          ambientTemperature: 24,
          connected: false,
          current: 0.18,
          horizontalAirFlowDirection: 0,
          macId: '5CCF7F9202CA',
          power: 41.13529,
          standby: false,
          thermostatFanMode: 'auto',
          thermostatMode: 'cool',
          thermostatSetpoint: 30,
          thermostatSetpointAuto: 24,
          thermostatSetpointCool: 30,
          thermostatSetpointDry: 27,
          verticalAirFlowDirection: 0,
          voltage: 225.4858
        }
      }
    ];
    const cardWrapper = shallow(<AssetsGrid assets={assetsData} />);
    expect(cardWrapper.find('GridViewItem').length).toEqual(1);
  });

  it('AssetCard element count should be equal to 1', () => {
    const assetsData = [
      {
        assetType: {
          category: 'Comfort',
          icon: ''
        },
        events: {
          edges: [
            {
              node: {
                time: '2017-05-10T06:18:02.354Z'
              }
            }
          ]
        },
        importantState: {
          value: 'standby'
        },
        name: 'ART Room',
        state: {
          ambientTemperature: 24,
          connected: false,
          current: 0.18,
          horizontalAirFlowDirection: 0,
          macId: '5CCF7F9202CA',
          power: 41.13529,
          standby: false,
          thermostatFanMode: 'auto',
          thermostatMode: 'cool',
          thermostatSetpoint: 30,
          thermostatSetpointAuto: 24,
          thermostatSetpointCool: 30,
          thermostatSetpointDry: 27,
          verticalAirFlowDirection: 0,
          voltage: 225.4858
        }
      }
    ];
    const cardWrapper = shallow(<AssetsGrid assets={assetsData} />);
    expect(cardWrapper.find('AssetCard').length).toEqual(1);
  });

  it('Empty div is returned in case of no assets', () => {
    const assetsData = [

    ];
    const cardWrapper = shallow(<AssetsGrid assets={assetsData} />);
    expect(cardWrapper.find('GridViewItem').length).toEqual(0);
  });

});

